angular.module("ngVirtualRepeat",[]),function(){"use strict";function t(){function t(t,n,r){function a(){var t=n.append("<tr><td></td></tr>").find("td")[0];p=t.offsetWidth,h=t.offsetHeight}function o(){var e=t.matrix;if(e){n.empty(),s=Math.ceil(c[0].clientHeight/h),u=Math.ceil(c[0].clientWidth/p);var r=Math.floor(f/h),a=Math.floor(d/p),o=r+s+1,g=a+u+1,v=e.length,w=e[0].length;o>v&&(o=v),g>w&&(g=w),n.append(i(e,[r,a],[o,g])),l.css({"padding-top":r*h+"px"}),l.css({height:v*h+"px"}),l.css({"padding-left":a*p+"px"}),l.css({width:w*p+"px"})}}var c=e(n,"ng-virtual-repeat-container"),l=c.find("div").eq(0),f=0,d=0,s=0,u=0,p=0,h=0,g=void 0!==r.watchSize;c.css({overflow:"scroll",width:"100%",height:"600px"}),a(),t.$watch("matrix",function(t,i){void 0===t?n.empty():o()}),c.bind("scroll",function(t){f=t.target.scrollTop,d=t.target.scrollLeft,o()}),g&&t.$watch(function(){return c[0].clientHeight+c[0].clientWidth},function(){o()})}function i(t,i,e){for(var n="",r=i[0];r<e[0];r++){for(var a="<tr>",o=i[1];o<e[1];o++)a+=["<td>",t[r][o],"</td>"].join("");n+=a+"</tr>"}return n}function e(t,i){if(t){if(!i)throw new Error("findParent, selector not specified");for(var e=t.parent();e;){if(e.hasClass(i))return e;e=e.parent()}}}return{restrict:"A",link:t,scope:{matrix:"=ngVirtualRepeat"}}}angular.module("ngVirtualRepeat").directive("ngVirtualRepeat",t),t.$inject=[]}();